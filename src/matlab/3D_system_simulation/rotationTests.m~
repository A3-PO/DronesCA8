%**************************************************************************
%
% sim_3D_controller.m - CA8 - DRONES
%
%**************************************************************************
%
% Group 832 - Control and Automation Msc.
% Aalborg University
% April 2016
%
%**************************************************************************
%
% DESCRIPTION:
%
% INPUTS:
%
% OUTPUTS:
%
%**************************************************************************
clear all; close all; clc;

%% Drone Body Rotation

% Rotation Directions
yaw = [0,0,1];
pitch = [0,1,0];
roll = [1,0,0];

% Rotation Angles
yawAngle = 180*ones(1,length(lat_drone));
pitchAngle = 0*ones(1,length(lat_drone));
rollAngle = 0*ones(1,length(lat_drone));

% Define arrow
figure(2);
arrow = arrow3D([-1,0,0] ,[2,0,0]);
view(45, 25); 
axis ([-1.5 1.5 -1.5 1.5 -1.5 1.5]);
grid on;
grid minor;
set(gca,'TickLength',[ 0 0 ]);
set(gca,'XTickLabel',[],'YTickLabel',[],'ZTickLabel',[]);
xlabel('East Axis'); ylabel('North Axis'); zlabel('Down Axis');
title('Drone Body Rotation - Local NED Frame');
set(gca,'xticklabel',[])

for i = 1:length(yawAngle)
    rotate(arrow,yaw,1);
    rotate(arrow,pitch,yawAngle(i)
    drawnow
end